<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Calendario Compartido</title>
  <meta name="description" content="Calendario con notas sincronizadas en tiempo real entre dispositivos." />
  <meta name="theme-color" content="#3b82f6" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <link rel="manifest" href="manifest.json" />
  <link rel="apple-touch-icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='180' height='180' viewBox='0 0 180 180'%3E%3Crect width='180' height='180' rx='36' fill='%233b82f6'/%3E%3Ctext x='50%25' y='54%25' font-size='90' text-anchor='middle' fill='white' font-family='Arial, sans-serif'%3E%F0%9F%97%93%EF%B8%8F%3C/text%3E%3C/svg%3E" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header class="topbar">
    <div class="brand">
      <div class="brand-icon">üóìÔ∏è</div>
      <div>
        <h1>Calendario Compartido</h1>
        <p>Notas sincronizadas al instante entre todos tus dispositivos.</p>
      </div>
    </div>
    <div class="status" id="syncStatus">
      <span class="status-dot" aria-hidden="true"></span>
      <span class="status-text">Preparando sincronizaci√≥n‚Ä¶</span>
    </div>
  </header>

  <main class="layout">
    <section class="calendar">
      <div class="calendar-head">
        <button class="btn" id="prevMonth">‚Üê Mes anterior</button>
        <div class="month">
          <div class="month-label" id="monthLabel">‚Äî</div>
          <div class="month-sub" id="monthRange">‚Äî</div>
        </div>
        <button class="btn" id="nextMonth">Mes siguiente ‚Üí</button>
      </div>

      <div class="calendar-weekdays" aria-hidden="true">
        <span>Lun</span>
        <span>Mar</span>
        <span>Mi√©</span>
        <span>Jue</span>
        <span>Vie</span>
        <span>S√°b</span>
        <span>Dom</span>
      </div>

      <div class="calendar-grid" id="calendarGrid" aria-label="Calendario con notas"></div>
    </section>

    <aside class="note-panel">
      <div class="note-head">
        <div>
          <div class="note-kicker">Nota del d√≠a</div>
          <h2 id="selectedDateLabel">‚Äî</h2>
        </div>
        <button class="btn ghost" id="todayBtn">Ir a hoy</button>
      </div>

      <label class="note-label" for="noteDate">Elige el d√≠a de la nota</label>
      <input id="noteDate" class="note-date" type="date" />

      <label class="note-label" for="noteInput">Escribe o edita tu nota</label>
      <textarea id="noteInput" class="note-input" placeholder="A√±ade una nota para este d√≠a‚Ä¶"></textarea>

      <div class="note-actions">
        <button class="btn primary" id="saveNote">Guardar</button>
        <button class="btn danger" id="deleteNote">Borrar nota</button>
      </div>

      <div class="sync-card">
        <h3>Sincronizaci√≥n</h3>
        <p>Para que se sincronice entre dispositivos necesitas un proyecto Firebase. A√±ade tu configuraci√≥n y un ID compartido:</p>
        <ol>
          <li>Configura un proyecto en Firebase (Firestore).</li>
          <li>Asigna <code>window.FIREBASE_CONFIG</code> y <code>window.CALENDAR_ID</code> antes de cargar <code>app.js</code>.</li>
          <li>Abre la misma URL en todos los dispositivos.</li>
        </ol>
        <div class="code-block">
          <pre>&lt;script&gt;
window.FIREBASE_CONFIG = { /* tu config */ };
window.CALENDAR_ID = "mi-calendario";
&lt;/script&gt;</pre>
        </div>
      </div>
    </aside>
  </main>

  <script>
    window.CALENDAR_ID = window.CALENDAR_ID || "default";
    window.FIREBASE_CONFIG = {
      apiKey: "AIzaSyCvxpyyTZvVYhXX8MrtJ1PORMMKMJHD18M",
      authDomain: "comida-fbfbd.firebaseapp.com",
      projectId: "comida-fbfbd",
      storageBucket: "comida-fbfbd.firebasestorage.app",
      messagingSenderId: "1074209619328",
      appId: "1:1074209619328:web:02b030bdec0bc599579565"
    };
  </script>
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore-compat.js"></script>
  <script src="app.js"></script>
</body>
</html>
